### 同步还是异步
同步与异步主要是从消息通知机制角度来说的。

所谓同步就是一个任务的完成需要依赖另外一个任务时，只有等待被依赖的任务完成后，依赖的任务才能算完成，这是一种可靠的任务序列。要么成功都成功，失败都失败，两个任务的状态可以保持一致。

所谓异步是不需要等待被依赖的任务完成，只是通知被依赖的任务要完成什么工作，依赖的任务也立即执行，只要自己完成了整个任务就算完成了。至于被依赖的任务最终是否真正完成，依赖它的任务无法确定，所以它是不可靠的任务序列。

同步是需要主动等待消息通知，而异步则是被动接收消息通知，通过回调、通知、状态等方式来被动获取消息。

### 阻塞与非阻塞
阻塞和非阻塞这两个概念与程序（线程）等待消息通知(无所谓同步或者异步)时的状态有关。

也就是说阻塞与非阻塞主要是程序（线程）等待消息通知时的状态角度来说的。

阻塞调用是指调用结果返回之前，当前线程会被挂起，一直处于等待消息通知，不能够执行其他业务。

非阻塞和阻塞的概念相对应，指在不能立刻得到结果之前，该函数不会阻塞当前线程，而会立刻返回。

### 小结
同步/异步与阻塞/非阻塞是两个维度。

同步/异步关注的是消息通知的机制（同步是需要主动等待消息通知，而异步则是被动接收消息通知，通过回调、通知、状态等方式来被动获取消息）。

阻塞/非阻塞关注的是程序（线程）等待消息通知时的状态（能不能干其他任务）。

### 我的理解
做事的是？我，同步；别人，异步。

我等不等？等，阻塞；不等，非阻塞。

举例：敲代码时我想喝奶茶。怎么办？

同步阻塞：我去买奶茶，在奶茶店需要排队，我想也不着急，就等买到奶茶后，再回来敲代码。

同步非阻塞：我去买奶茶，如果奶茶店需要排队，不能忍，就先回来敲会代码，之后再去看。如果不用排队，直接买回来。

异步阻塞：我派人去买奶茶，让他买到后给我，期间我没有奶茶，无心敲代码。

异步非阻塞：我派人去买奶茶，让他买到后给我，期间我继续敲代码。

### BIO+NIO+AIO
对于socket的文件描述符才有所谓BIO和NIO，即网络IO才有阻塞非阻塞之分，磁盘IO都是非阻塞的（能立马读写磁盘）。

多线程+BIO模式会带来大量的资源浪费，而NIO+IO多路复用可以解决这个问题。

在Linux下，基于epoll的IO多路复用是解决这个问题的最佳方案；epoll相比select和poll有很大的性能优势和功能优势，适合实现高性能网络服务。

一般上层（nodejs，Java NIO）都会选择用线程池+BIO来模拟文件AIO。


### 资料来源
#### 1. 聊聊同步、异步、阻塞与非阻塞
作者：猿码道
链接：https://www.jianshu.com/p/aed6067eeac9
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

#### 2. 聊聊BIO，NIO和AIO
作者：大宽宽
链接：https://www.jianshu.com/p/ef418ccf2f7d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

#### 3. 从实践角度重新理解BIO和NIO
http://blog.objectspace.cn/2019/10/22/从实践角度重新理解BIO和NIO/